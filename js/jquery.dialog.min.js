(function($){$.dialog=function(options){var defaults={types:'',id:'',className:'',titles:'提示',contents:'',width:200,height:110,ensure:'确定',cancel:'取消',times:2000,close:'+',p:'',callback:null},options=$.extend(defaults,options),objs={win:$('<div>').addClass('w_win show').attr("data-plugIn","dialog"),tops:$('<div>').addClass('w_top').html(options.titles),con:$('<div>').addClass('w_con').html(options.contents),bot:$('<div>').addClass('w_bot'),inp:$('<input>').attr('type','text').addClass('w_prompt'),ensure:$('<a>').attr({'href':'javascript:;'}).addClass('w_ensure').html(options.ensure),cancel:$('<a>').attr({'href':'javascript:;'}).addClass('w_cancel').html(options.cancel),close:$('<a>').attr('href','javascript:;').addClass('w_close').html(options.close),bg:$('<div>').addClass('w_bg').attr("data-plugIn","dialog")},dfunc={init:function(){var _t=this,DOM='';if(options.types=='closeFun'){var openDom=$("div[data-plugIn=\"dialog\"]");openDom.removeClass("show");if($.browser.msie&&$.browser.version<10.0){openDom.remove();}else{setTimeout(function(){openDom.remove();},400);}
return false;};objs.tops.append(objs.close);if(options.types=='alert'){objs.win.addClass('w_alert');objs.win.append(objs.con);objs.win.append(objs.bot);objs.bot.append(objs.ensure);objs.ensure.click(function(){if(options.callback){options.callback(options.p);}
_t.wClose();});}else if(options.types=='confirm'){objs.win.addClass('w_confirm');objs.win.append(objs.tops);objs.win.append(objs.con);objs.win.append(objs.bot);objs.bot.append(objs.ensure);objs.bot.append(objs.cancel);objs.ensure.click(function(){_t.wClose();if(options.callback){options.callback(options.p);};});}else if(options.types=='prompt'){objs.win.addClass('w_prompt');objs.win.append(objs.tops);objs.win.append(objs.con);objs.win.append(objs.bot);objs.con.append(objs.inp);objs.bot.append(objs.ensure);objs.bot.append(objs.cancel);objs.ensure.click(function(){if(options.callback){options.callback(objs.inp.val(),options.p);}});}else if(options.types=='loading'){objs.win.append(objs.con);objs.con.html(options.contents).css({"text-align":"center","line-height":options.height+"px","padding":0});function t(i){setTimeout(function(){objs.con.append('.');i++;if(i<4){t(i);}else{objs.con.html(options.contents);t(0);}},500);};t(0);}else if(options.types=='moment'){objs.win.append(objs.con);objs.con.html(options.contents).css({"text-align":"center","line-height":options.height+"px","padding":0});setTimeout(function(){_t.wClose();},options.times);objs.bg.click(function(){_t.wClose();return false;});};objs.close.click(function(){_t.wClose();});objs.cancel.click(function(){_t.wClose();});_t.even();},even:function(){objs.win.css({'width':options.width,'height':options.height,'margin-top':-options.height/2,'margin-left':-options.width/2})
if(options.id){objs.win.attr('id',options.id);};if(options.className){objs.win.attr('className',options.className);};$('body').append(objs.bg);$('body').append(objs.win);if($.browser.msie&&$.browser.version==6.0){objs.bg.css("height",$("html").height());$(window).on('scroll',function(){objs.win.css({"top":$(document).scrollTop()+$("html").height()/2});objs.win.css({"top":$(document).scrollTop()});});};},wClose:function(){objs.win.removeClass("show");if($.browser.msie&&$.browser.version<10.0){objs.win.remove();}else{setTimeout(function(){objs.win.remove();},400);}
objs.bg.remove();}};dfunc.init();};})(jQuery);