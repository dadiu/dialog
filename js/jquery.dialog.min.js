(function($){$.dialog=function(options){var defaults={types:"",id:"",className:"",titles:"提示",contents:"",width:200,height:110,ensure:"确定",cancel:"取消",times:2000,close:"+",p:"",callback:null},options=$.extend(defaults,options),objs={win:$("<div>").addClass("w_win").attr("data-plugIn","dialog"),tops:$("<div>").addClass("w_top").html(options.titles),con:$("<div>").addClass("w_con").html(options.contents),bot:$("<div>").addClass("w_bot"),inp:$("<input>").attr("type","text").addClass("w_prompt"),ensure:$("<a>").attr({"href":"javascript:;"}).addClass("w_ensure").html(options.ensure),cancel:$("<a>").attr({"href":"javascript:;"}).addClass("w_cancel").html(options.cancel),close:$("<a>").attr("href","javascript:;").addClass("w_close").html(options.close),bg:$("<div>").addClass("w_bg").attr("data-plugIn","dialog")},dfunc={init:function(){var _t=this,DOM="";if(options.type=="closeFun"){$('div[data-plugIn="dialog"]').remove();return false}objs.tops.append(objs.close);if(options.types=="alert"){objs.win.addClass("w_alert");objs.win.append(objs.con);objs.win.append(objs.bot);objs.bot.append(objs.ensure);objs.ensure.click(function(){if(options.callback){options.callback(options.p)}_t.wClose()})}else{if(options.types=="confirm"){objs.win.addClass("w_confirm");objs.win.append(objs.tops);objs.win.append(objs.con);objs.win.append(objs.bot);objs.bot.append(objs.ensure);objs.bot.append(objs.cancel);objs.ensure.click(function(){_t.wClose();if(options.callback){options.callback(options.p)}})}else{if(options.types=="prompt"){objs.win.addClass("w_prompt");objs.win.append(objs.tops);objs.win.append(objs.con);objs.win.append(objs.bot);objs.con.append(objs.inp);objs.bot.append(objs.ensure);objs.bot.append(objs.cancel);objs.ensure.click(function(){if(options.callback){options.callback(objs.inp.val(),options.p)}})}else{if(options.types=="loading"){objs.win.append(objs.con);objs.con.html(options.contents);function t(i){setTimeout(function(){objs.con.append(".");i++;if(i<4){t(i)}else{objs.con.html(options.contents);t(0)}},500)}t(0)}else{if(options.types=="moment"){objs.win.append(objs.con);objs.con.html(options.contents);setTimeout(function(){_t.wClose()},options.times)}}}}}objs.close.click(function(){_t.wClose()});objs.cancel.click(function(){_t.wClose()});_t.even()},even:function(){objs.win.css({"width":options.width,"height":options.height,"margin-top":-options.width/2,"margin-left":-options.height/2});if(options.id){objs.win.attr("id",options.id)}if(options.className){objs.win.attr("className",options.className)}$("body").append(objs.bg);$("body").append(objs.win)},wClose:function(){console.log("!");objs.win.remove();objs.bg.remove()}};dfunc.init()}})(jQuery);